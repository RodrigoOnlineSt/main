<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portal de Páginas</title>
  <style>
    body { background: #f8fafc; margin:0; font-family:'Segoe UI',Arial,sans-serif; color:#222;}
    .container { max-width: 430px; margin:38px auto 0; background:#fff; border-radius:17px; box-shadow:0 4px 18px #0002; }
    .header { padding:24px 8px 12px 8px; background:linear-gradient(100deg,#21a2ee 70%,#144a6b); border-radius:17px 17px 0 0; text-align:center; font-size:1.25em; font-weight:600; color:#fff;}
    .list { margin:16px 0 0 0; padding:0 14px 12px 14px; }
    .page-link { display:flex;align-items:center;justify-content:space-between; background:#e7f3fb; border-radius:10px; padding:13px 18px; margin-bottom:12px; font-size:1.1em; box-shadow:0 2px 7px #0012;}
    .page-link a { color:#144a6b; text-decoration:none; font-weight:600;}
    @media (max-width: 560px){
      .container{max-width:99vw;}
      .header{font-size:1.09em;}
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      Portal de Páginas <span style="font-size:0.9em;font-weight:400;">(visualização)</span>
    </div>
    <div class="list" id="pagesList"></div>
  </div>
  <script>
    function getPages(){ return JSON.parse(localStorage.getItem('pagesList')||'[]'); }
    function renderPages(){
      const pages=getPages();
      let html='';
      if(pages.length===0){
        html='<div style="text-align:center;color:#888;margin:25px 0;">Nenhuma página disponível.</div>';
      } else {
        pages.forEach(p=>{
          html+=`
            <div class="page-link">
              <a href="?pg=${p.id}">${p.name}</a>
            </div>
          `;
        });
      }
      document.getElementById('pagesList').innerHTML=html;
    }
    // Se for link ?pg=xxx, abre a página individual
    function openPage(){
      const params=new URLSearchParams(location.search);
      const pgId=params.get('pg');
      if(pgId){
        const p=getPages().find(pg=>pg.id===pgId);
        if(p){
          document.body.innerHTML=p.html;
          document.title=p.name;
        }else{
          document.body.innerHTML='<h2 style="color:red;text-align:center;">Página não encontrada!</h2>';
        }
        return true;
      }
      return false;
    }
    if(!openPage()) renderPages();
  </script>
</body>
</html>
