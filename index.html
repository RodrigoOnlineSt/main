<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Portal de P√°ginas</title>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
  <style>
    body { background: #f8fafc; margin:0; font-family:'Segoe UI',Arial,sans-serif; color:#222;}
    .container { max-width: 440px; margin:38px auto 0; background:#fff; border-radius:17px; box-shadow:0 4px 18px #0002; }
    .header { padding:24px 8px 12px 8px; background:linear-gradient(100deg,#21a2ee 70%,#144a6b); border-radius:17px 17px 0 0; text-align:center; font-size:1.25em; font-weight:600; color:#fff;}
    .list { margin:16px 0 0 0; padding:0 14px 12px 14px; }
    .page-link { display:flex;align-items:center;justify-content:space-between; background:#e7f3fb; border-radius:10px; padding:13px 18px; margin-bottom:12px; font-size:1.1em; box-shadow:0 2px 7px #0012;}
    .page-link a { color:#144a6b; text-decoration:none; font-weight:600;}
    @media (max-width: 560px){ .container{max-width:99vw;} .header{font-size:1.09em;} }
    .anexos-list span { display:block; margin-bottom:2px;font-size:0.98em;}
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      Portal de P√°ginas <span style="font-size:0.9em;font-weight:400;">(visualiza√ß√£o)</span>
    </div>
    <div class="list" id="pagesList"></div>
  </div>
  <script>
    // Configura√ß√£o do Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyAr-qpOVl3aooDY56W9fHHLmmIxfms1P5I",
      authDomain: "presta-9f617.firebaseapp.com",
      projectId: "presta-9f617",
      storageBucket: "presta-9f617.appspot.com",
      messagingSenderId: "933441693460",
      appId: "1:933441693460:web:d1685236428060f700c401",
      measurementId: "G-G4BNHYSYM6"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // Se abrir com ?pg=, mostra p√°gina individual + anexos
    async function openPage(){
      const params = new URLSearchParams(location.search);
      const pgId = params.get('pg');
      if(pgId){
        const doc = await db.collection('pages').doc(pgId).get();
        if(doc.exists){
          const p = doc.data();
          let anexosHtml = '';
          if(p.anexos && p.anexos.length){
            anexosHtml = '<div class="anexos-list" style="margin:16px 0 10px 0;">';
            p.anexos.forEach(a=>{
              if(a.type.startsWith("image/")){
                anexosHtml += `<span>üñºÔ∏è<br><img src="${a.url}" alt="${a.name}" style="max-width:100%;max-height:220px;display:block;margin:4px auto 10px auto;border-radius:8px;"></span>`;
              } else if(a.type.startsWith("audio/")){
                anexosHtml += `<span>üîä<br><audio controls src="${a.url}" style="width:100%;"></audio></span>`;
              } else if(a.type.startsWith("video/")){
                anexosHtml += `<span>üé¨<br><video controls src="${a.url}" style="width:100%;max-height:240px;border-radius
